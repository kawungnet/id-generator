<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">

        <title>Kawung Network ID Generator</title>
        <link rel="icon" href="./assets/img/logo.png">
        <meta content="ID generator of Kawung Network Devices" name="description">
        <meta content="Kawung, network, iot, security, lora, arduino, raspberry, id, generator" name="keywords">

        <!-- CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- Boxicon -->
        <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>

        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    </head>
  
    <body>
        <h2>Kawung Network ID Generator</h2>
      
        <p>ID is a 'name' for every device that join in the Kawung Network. It used as address where the message should delivered</p>

        <p>Your new ID is : <Strong><span id="demo"></span></Strong></p>

        <br>
        <p>Refresh this page to get new ID</p>

        <script>
        const characters ='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const charactersLength = characters.length;
        let randomCharacter = '';

        let getEpoch = parseInt((Date.now())/1000);
        let idNew = getEpoch.toString(16);

        // Convert to base64 without padding
        var hexArray = idNew
            .replace(/\r|\n/g, "")
            .replace(/([\da-fA-F]{2}) ?/g, "0x$1 ")
            .replace(/ +$/, "")
            .split(" ");
            
        var byteString = String.fromCharCode.apply(null, hexArray);
        var base64string = window.btoa(byteString);
            base64string = base64string.replaceAll("=", "");
        
            idNew = base64string.replace("+", "_");
            idNew = idNew.replace("/", "=");
                       
        document.getElementById("demo").innerHTML = idNew;
        </script>
      
    </body>
</html>
